{"remainingRequest":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/@vuepress/plugin-pwa/lib/SWUpdatePopup.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/@vuepress/plugin-pwa/lib/SWUpdatePopup.vue","mtime":1677065091715},{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/cache-loader/dist/cjs.js","mtime":1677065091659},{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/babel-loader/lib/index.js","mtime":1677065091711},{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/cache-loader/dist/cjs.js","mtime":1677065091659},{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/vue-loader/lib/index.js","mtime":1677065091806}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZ2xvYmFsIFNXX1VQREFURV9QT1BVUCAqLwppbXBvcnQgZXZlbnQgZnJvbSAnLi9ldmVudCc7CmltcG9ydCB7IG5vcm1hbGl6ZUNvbmZpZyB9IGZyb20gJ0BhcHAvdXRpbCc7CmltcG9ydCB7IHBvcHVwQ29uZmlnIGFzIGRlZmF1bHRQb3B1cENvbmZpZyB9IGZyb20gJy4vaTE4bic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU1dVcGRhdGVQb3B1cCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJhd1BvcHVwQ29uZmlnOiBTV19VUERBVEVfUE9QVVAsCiAgICAgIHVwZGF0ZUV2ZW50OiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBvcHVwQ29uZmlnKCkgewogICAgICByZXR1cm4gbm9ybWFsaXplQ29uZmlnKHRoaXMsIHRoaXMucmF3UG9wdXBDb25maWcpOwogICAgfSwKICAgIGVuYWJsZWQoKSB7CiAgICAgIHJldHVybiBCb29sZWFuKHRoaXMucG9wdXBDb25maWcgJiYgdGhpcy51cGRhdGVFdmVudCk7CiAgICB9LAogICAgbWVzc2FnZSgpIHsKICAgICAgY29uc3QgYyA9IHRoaXMucG9wdXBDb25maWc7CiAgICAgIHJldHVybiBjICYmIGMubWVzc2FnZSB8fCBkZWZhdWx0UG9wdXBDb25maWdbJy8nXS5tZXNzYWdlOwogICAgfSwKICAgIGJ1dHRvblRleHQoKSB7CiAgICAgIGNvbnN0IGMgPSB0aGlzLnBvcHVwQ29uZmlnOwogICAgICByZXR1cm4gYyAmJiBjLmJ1dHRvblRleHQgfHwgZGVmYXVsdFBvcHVwQ29uZmlnWycvJ10uYnV0dG9uVGV4dDsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBldmVudC4kb24oJ3N3LXVwZGF0ZWQnLCB0aGlzLm9uU1dVcGRhdGVkKTsKICAgIGlmIChTV19VUERBVEVfUE9QVVAgPT09IHRydWUpIHsKICAgICAgdGhpcy5yYXdQb3B1cENvbmZpZyA9IGRlZmF1bHRQb3B1cENvbmZpZzsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU1dVcGRhdGVkKGUpIHsKICAgICAgdGhpcy51cGRhdGVFdmVudCA9IGU7CiAgICB9LAogICAgcmVsb2FkKCkgewogICAgICBpZiAodGhpcy51cGRhdGVFdmVudCkgewogICAgICAgIHRoaXMudXBkYXRlRXZlbnQuc2tpcFdhaXRpbmcoKS50aGVuKCgpID0+IHsKICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCh0cnVlKTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLnVwZGF0ZUV2ZW50ID0gbnVsbDsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["event","normalizeConfig","popupConfig","defaultPopupConfig","name","data","rawPopupConfig","SW_UPDATE_POPUP","updateEvent","computed","enabled","Boolean","message","c","buttonText","created","$on","onSWUpdated","methods","e","reload","skipWaiting","then","location"],"sources":["/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/@vuepress/plugin-pwa/lib/SWUpdatePopup.vue"],"sourcesContent":["\n/* global SW_UPDATE_POPUP */\nimport event from './event'\nimport { normalizeConfig } from '@app/util'\nimport { popupConfig as defaultPopupConfig } from './i18n'\n\nexport default {\n  name: 'SWUpdatePopup',\n\n  data () {\n    return {\n      rawPopupConfig: SW_UPDATE_POPUP,\n      updateEvent: null\n    }\n  },\n\n  computed: {\n    popupConfig () {\n      return normalizeConfig(this, this.rawPopupConfig)\n    },\n\n    enabled () {\n      return Boolean(this.popupConfig && this.updateEvent)\n    },\n\n    message () {\n      const c = this.popupConfig\n      return (c && c.message) || defaultPopupConfig['/'].message\n    },\n\n    buttonText () {\n      const c = this.popupConfig\n      return (c && c.buttonText) || defaultPopupConfig['/'].buttonText\n    }\n  },\n\n  created () {\n    event.$on('sw-updated', this.onSWUpdated)\n    if (SW_UPDATE_POPUP === true) {\n      this.rawPopupConfig = defaultPopupConfig\n    }\n  },\n\n  methods: {\n    onSWUpdated (e) {\n      this.updateEvent = e\n    },\n\n    reload () {\n      if (this.updateEvent) {\n        this.updateEvent.skipWaiting().then(() => {\n          location.reload(true)\n        })\n        this.updateEvent = null\n      }\n    }\n  }\n}\n"],"mappings":"AACA;AACA,OAAOA,KAAK,MAAM,SAAS;AAC3B,SAASC,eAAe,QAAQ,WAAW;AAC3C,SAASC,WAAW,IAAIC,kBAAkB,QAAQ,QAAQ;AAE1D,eAAe;EACbC,IAAI,EAAE,eAAe;EAErBC,IAAIA,CAAA,EAAI;IACN,OAAO;MACLC,cAAc,EAAEC,eAAe;MAC/BC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EAEDC,QAAQ,EAAE;IACRP,WAAWA,CAAA,EAAI;MACb,OAAOD,eAAe,CAAC,IAAI,EAAE,IAAI,CAACK,cAAc,CAAC;IACnD,CAAC;IAEDI,OAAOA,CAAA,EAAI;MACT,OAAOC,OAAO,CAAC,IAAI,CAACT,WAAW,IAAI,IAAI,CAACM,WAAW,CAAC;IACtD,CAAC;IAEDI,OAAOA,CAAA,EAAI;MACT,MAAMC,CAAC,GAAG,IAAI,CAACX,WAAW;MAC1B,OAAQW,CAAC,IAAIA,CAAC,CAACD,OAAO,IAAKT,kBAAkB,CAAC,GAAG,CAAC,CAACS,OAAO;IAC5D,CAAC;IAEDE,UAAUA,CAAA,EAAI;MACZ,MAAMD,CAAC,GAAG,IAAI,CAACX,WAAW;MAC1B,OAAQW,CAAC,IAAIA,CAAC,CAACC,UAAU,IAAKX,kBAAkB,CAAC,GAAG,CAAC,CAACW,UAAU;IAClE;EACF,CAAC;EAEDC,OAAOA,CAAA,EAAI;IACTf,KAAK,CAACgB,GAAG,CAAC,YAAY,EAAE,IAAI,CAACC,WAAW,CAAC;IACzC,IAAIV,eAAe,KAAK,IAAI,EAAE;MAC5B,IAAI,CAACD,cAAc,GAAGH,kBAAkB;IAC1C;EACF,CAAC;EAEDe,OAAO,EAAE;IACPD,WAAWA,CAAEE,CAAC,EAAE;MACd,IAAI,CAACX,WAAW,GAAGW,CAAC;IACtB,CAAC;IAEDC,MAAMA,CAAA,EAAI;MACR,IAAI,IAAI,CAACZ,WAAW,EAAE;QACpB,IAAI,CAACA,WAAW,CAACa,WAAW,EAAE,CAACC,IAAI,CAAC,MAAM;UACxCC,QAAQ,CAACH,MAAM,CAAC,IAAI,CAAC;QACvB,CAAC,CAAC;QACF,IAAI,CAACZ,WAAW,GAAG,IAAI;MACzB;IACF;EACF;AACF,CAAC"}]}