{"remainingRequest":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tangzongshuo/Desktop/vuepress-theme-maker/global-components/RelatedPosts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/global-components/RelatedPosts.vue","mtime":1677064857995},{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/cache-loader/dist/cjs.js","mtime":1677065091659},{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/babel-loader/lib/index.js","mtime":1677065091711},{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/cache-loader/dist/cjs.js","mtime":1677065091659},{"path":"/Users/tangzongshuo/Desktop/vuepress-theme-maker/node_modules/vue-loader/lib/index.js","mtime":1677065091806}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZWxhdGVkUG9zdHMnLAogIHByb3BzOiB7CiAgICByZWxhdGVkVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdjYXRlZ29yeScKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBsaXN0KCkgewogICAgICBsZXQgcG9zdHMgPSB0aGlzLiRzaXRlLnBhZ2VzLmZpbHRlcihpdGVtID0+IHsKICAgICAgICBpZiAoaXRlbS5waWQgIT09ICdwb3N0JykgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpZiAoaXRlbS5mcm9udG1hdHRlci5leGNsdWRlUmVsYXRlZFBvc3QpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRoaXMuaXNSZWxhdGVkUG9zdChpdGVtKTsKICAgICAgfSk7CiAgICAgIHJldHVybiBwb3N0czsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGlzUmVsYXRlZFBvc3QoaXRlbSkgewogICAgICBsZXQgYXJyRm4gPSBbXTsKICAgICAgbGV0IGtleXM7CiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOwogICAgICBpZiAoc2VsZi5yZWxhdGVkVHlwZSA9PT0gJ2NhdGVnb3J5JykgewogICAgICAgIGtleXMgPSBbJ2NhdGVnb3J5JywgJ2NhdGVnb3JpZXMnXTsKICAgICAgfQogICAgICBpZiAoc2VsZi5yZWxhdGVkVHlwZSA9PT0gJ3RhZycpIHsKICAgICAgICBrZXlzID0gWyd0YWcnLCAndGFncyddOwogICAgICB9CiAgICAgIGFyckZuID0gQXJyYXkub2YoKCkgPT4gewogICAgICAgIGlmICh0eXBlb2Ygc2VsZi4kZnJvbnRtYXR0ZXJba2V5c1swXV0gPT09ICdzdHJpbmcnICYmIHR5cGVvZiBpdGVtLmZyb250bWF0dGVyW2tleXNbMF1dID09PSAnc3RyaW5nJykgcmV0dXJuIHNlbGYuJGZyb250bWF0dGVyW2tleXNbMF1dID09PSBpdGVtLmZyb250bWF0dGVyW2tleXNbMF1dOwogICAgICB9LCAoKSA9PiB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5mcm9udG1hdHRlcltrZXlzWzFdXSkpIHsKICAgICAgICAgIHJldHVybiBpdGVtLmZyb250bWF0dGVyW2tleXNbMV1dLmluY2x1ZGVzKHNlbGYuJGZyb250bWF0dGVyW2tleXNbMF1dKTsKICAgICAgICB9CiAgICAgIH0sICgpID0+IHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzZWxmLiRmcm9udG1hdHRlcltrZXlzWzFdXSkpIHsKICAgICAgICAgIHJldHVybiBzZWxmLiRmcm9udG1hdHRlcltrZXlzWzFdXS5pbmNsdWRlcyhpdGVtLmZyb250bWF0dGVyW2tleXNbMF1dKTsKICAgICAgICB9CiAgICAgIH0sICgpID0+IHsKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtLmZyb250bWF0dGVyW2tleXNbMV1dKSAmJiBBcnJheS5pc0FycmF5KHNlbGYuJGZyb250bWF0dGVyW2tleXNbMV1dKSkgewogICAgICAgICAgcmV0dXJuIHNlbGYuJGZyb250bWF0dGVyW2tleXNbMV1dLnNvbWUoc3ViSXRlbSA9PiB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmZyb250bWF0dGVyW2tleXNbMV1dLmluY2x1ZGVzKHN1Ykl0ZW0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGFyckZuLnNvbWUoZm5JdGVtID0+IHsKICAgICAgICByZXR1cm4gZm5JdGVtKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["name","props","relatedType","type","String","default","computed","list","posts","$site","pages","filter","item","pid","frontmatter","excludeRelatedPost","isRelatedPost","methods","arrFn","keys","self","Array","of","$frontmatter","isArray","includes","some","subItem","fnItem"],"sources":["global-components/RelatedPosts.vue"],"sourcesContent":["<template>\n  <ul>\n    <li v-for=\"item in list\" :key=\"item.key\"><router-link :to=\"item.path\">{{item.title}}</router-link></li>\n  </ul>\n</template>\n\n<script>\n  export default {\n    name: 'RelatedPosts',\n    props: {\n      relatedType: {\n        type: String,\n        default: 'category'\n      }\n    },\n    computed: {\n      list() {\n        let posts = this.$site.pages.filter(item => {\n          if (item.pid !== 'post') {\n            return false;\n          }\n          if (item.frontmatter.excludeRelatedPost) {\n            return false;\n          }\n          return this.isRelatedPost(item);\n        });\n        return posts;\n      }\n    },\n    methods: {\n      isRelatedPost(item) {\n        let arrFn = [];\n        let keys;\n        const self = this;\n        if (self.relatedType === 'category') {\n          keys = ['category', 'categories'];\n        }\n        if (self.relatedType === 'tag') {\n          keys = ['tag', 'tags'];\n        }\n        arrFn = Array.of(() => {\n          if(typeof self.$frontmatter[keys[0]] === 'string' && typeof item.frontmatter[keys[0]] === 'string')\n          return self.$frontmatter[keys[0]] === item.frontmatter[keys[0]];\n        }, () => {\n          if (Array.isArray(item.frontmatter[keys[1]])) {\n            return item.frontmatter[keys[1]].includes(self.$frontmatter[keys[0]]);\n          }\n        }, () => {\n          if (Array.isArray(self.$frontmatter[keys[1]])) {\n            return self.$frontmatter[keys[1]].includes(item.frontmatter[keys[0]]);\n          }\n        }, () => {\n          if (Array.isArray(item.frontmatter[keys[1]]) && Array.isArray(self.$frontmatter[keys[1]])) {\n             return self.$frontmatter[keys[1]].some(subItem => {\n              return item.frontmatter[keys[1]].includes(subItem);\n            });\n          }\n        });\n        return arrFn.some(fnItem => {\n          return fnItem();\n        })\n      }\n    }\n  }\n</script>"],"mappings":"AAOA;EACAA,IAAA;EACAC,KAAA;IACAC,WAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACAC,KAAA;MACA,IAAAC,KAAA,QAAAC,KAAA,CAAAC,KAAA,CAAAC,MAAA,CAAAC,IAAA;QACA,IAAAA,IAAA,CAAAC,GAAA;UACA;QACA;QACA,IAAAD,IAAA,CAAAE,WAAA,CAAAC,kBAAA;UACA;QACA;QACA,YAAAC,aAAA,CAAAJ,IAAA;MACA;MACA,OAAAJ,KAAA;IACA;EACA;EACAS,OAAA;IACAD,cAAAJ,IAAA;MACA,IAAAM,KAAA;MACA,IAAAC,IAAA;MACA,MAAAC,IAAA;MACA,IAAAA,IAAA,CAAAlB,WAAA;QACAiB,IAAA;MACA;MACA,IAAAC,IAAA,CAAAlB,WAAA;QACAiB,IAAA;MACA;MACAD,KAAA,GAAAG,KAAA,CAAAC,EAAA;QACA,WAAAF,IAAA,CAAAG,YAAA,CAAAJ,IAAA,4BAAAP,IAAA,CAAAE,WAAA,CAAAK,IAAA,mBACA,OAAAC,IAAA,CAAAG,YAAA,CAAAJ,IAAA,SAAAP,IAAA,CAAAE,WAAA,CAAAK,IAAA;MACA;QACA,IAAAE,KAAA,CAAAG,OAAA,CAAAZ,IAAA,CAAAE,WAAA,CAAAK,IAAA;UACA,OAAAP,IAAA,CAAAE,WAAA,CAAAK,IAAA,KAAAM,QAAA,CAAAL,IAAA,CAAAG,YAAA,CAAAJ,IAAA;QACA;MACA;QACA,IAAAE,KAAA,CAAAG,OAAA,CAAAJ,IAAA,CAAAG,YAAA,CAAAJ,IAAA;UACA,OAAAC,IAAA,CAAAG,YAAA,CAAAJ,IAAA,KAAAM,QAAA,CAAAb,IAAA,CAAAE,WAAA,CAAAK,IAAA;QACA;MACA;QACA,IAAAE,KAAA,CAAAG,OAAA,CAAAZ,IAAA,CAAAE,WAAA,CAAAK,IAAA,SAAAE,KAAA,CAAAG,OAAA,CAAAJ,IAAA,CAAAG,YAAA,CAAAJ,IAAA;UACA,OAAAC,IAAA,CAAAG,YAAA,CAAAJ,IAAA,KAAAO,IAAA,CAAAC,OAAA;YACA,OAAAf,IAAA,CAAAE,WAAA,CAAAK,IAAA,KAAAM,QAAA,CAAAE,OAAA;UACA;QACA;MACA;MACA,OAAAT,KAAA,CAAAQ,IAAA,CAAAE,MAAA;QACA,OAAAA,MAAA;MACA;IACA;EACA;AACA"}]}